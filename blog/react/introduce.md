# 概览

react 在国内的生态还是差一点, 很多东西发展的有点缓慢, 我个人在开发的时候会有很多脑洞, 很多时候并没有看见有类似的方案, 毕竟开源项目中很少涉及大型项目, 所以很多时候都是闭门造车;

但是感觉多一种思想也是好的, 所以就在此记录下一些开发的尝试, 不一定对, 根据不同的场景去选择适合的就好;

### 组合继承

虽然 react 官方推荐只使用组合, 但是有的时候用继承会更方便;

当然继承也可以使用装饰器来实现注入, 但是装饰器提案一改再改, 不够稳定, 同时对 TS 也不够友好, 所以还是直接用 TS 的 class extends 来的更方便, 自动推导;

开发一段时间后, 感觉继续深入下去就是步 angular 的后尘了, 模块类组合, 毫无疑问就是朝着大型项目去的, 不得不说再看看 angular, 感觉还是挺牛逼的;

当然也设想了组件库的继承, 感觉天生适合分层设计的组件, 核心代码封装成抽象类, UI 层写样式然后继承, 甚至我们还可以重写逻辑, 既能复用又能自由修改, 而不用每次都是在组件内部去新增一个回调啥的;

不过想要用好的话, 也没必要自己摸索, 深入学习一下 angular 就好了, 以后有时间做超大型项目的时候再考虑吧;

### 函数式编程

前端函数式编程这个我倒是很感兴趣, 毫无疑问, 这就是 react 的终极目标, 数据驱动页面, 数据驱动交互, 数据驱动逻辑, 一切皆数据;

我感觉 antd 的 modal.confirm 就是此类, 调用函数就能完成一个交互, 如果我们将交互都做成这种形式, 那我们基本上就是将函数组合而已, 页面将会十分的简洁, 同时配合函数式 UI 库, 专注于业务逻辑, 简直完美;

目前尝试通过自定义 hooks 来返回状态以及 dom 节点, 不够简洁只是次要的, 最大的问题在于内部的组件无法获取到外部的信息, 而自定义 hooks 的 props 一次性的, 只会在挂载的时候更新, 后续就不会更新, 无法更新外部状态, 甚至说带有外部 useState 的参数都无法更新;

如果返回的是函数组件, 则会导致每次数据变化的时候都会重新渲染一遍组件, 开销太大, 尤其是弹窗组件, 会先销毁再渲染, 体验很差;

这块还需要继续探索;
