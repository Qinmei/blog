# 作用域链与执行上下文

本文只代表个人理解, 难免有疏漏之处, 请勿过于相信, 抱着怀疑的角度阅读即可

## 作用域链

ES6 之前 js 中是没有块级作用域的, 日常开发接触到的就是全局作用域以及函数作用域

内部的作用域可以访问外部的作用域, 闭包就是这么产生的, 而外部作用域无法访问到内部作用域

但是作用域其实就是个概念, 实际的变量是挂载在变量对象(VO)上的, 函数的入参, 内部的变量等等都是如此, 而作用域链则是将其串联起来, 这样就能顺着最内部的作用域访问到最外部的作用域去

然而日常开发的时候会涉及到 this, 那就不得不提执行上下文了

## 执行上下文

执行上下文, 听名字就知道应该是执行的时候创建的执行环境, 每创建一个执行上下文就会将其放到执行栈中去, 这样浏览器就知道现在执行到哪了

执行上下文包括三个部分:

- 作用域链;
- 变量对象
- this

都知道 js 是动态语言, 没有预编译过程, 但是这并不代表浏览器没办法优化, 作用域链与调用环境无关, 所以浏览器先扫一遍, 给变量对象先赋值, 然后将作用域链串联起来, 最后执行的时候将变量对象激活, 同时传入 this, 这样就是一个简单的顺序了;
